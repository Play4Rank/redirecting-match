<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redirigiendo...</title>
  <script>
    // Obtener parámetros de la URL
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");
    
    // Definir el deep link y el fallback
    const deepLink = id ? `play4rank://(match)/detail/${id}` : "play4rank://(tabs)/index";
    const playStoreURL = "https://www.play4rank.com/";
    const appStoreURL = "https://www.play4rank.com/";
    
    // Detectar si es Android o iOS
    const userAgent = navigator.userAgent.toLowerCase();
    const isAndroid = userAgent.includes("android");
    const isIOS = userAgent.includes("iphone") || userAgent.includes("ipad") || userAgent.includes("ipod");

    // Fallback si la app no está instalada
    const fallbackURL = isAndroid ? playStoreURL : isIOS ? appStoreURL : "https://www.play4rank.com/";

    // Intentar abrir el deep link
    window.location.href = deepLink;

    // Si la app no se abre, redirigir al fallback después de 3 segundos
    setTimeout(() => {
      window.location.href = fallbackURL;
    }, 3000);
  </script>
</head>
<body>
  <p>Si la app no se abre automáticamente, <a href="#" id="fallback-link">haz clic aquí</a>.</p>
  <script>
    document.getElementById("fallback-link").href = fallbackURL;
  </script>
</body>
</html>
